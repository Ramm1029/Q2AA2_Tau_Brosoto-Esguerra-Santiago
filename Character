import java.util.ArrayList;

/**
 *
 * @author ramai
 */
public class Character {
    private String name;
    private int hp, speed, stamina, sightRadius, progress;
    private ArrayList<Item> inventory;

    public Character(String n, int hp, int s, int st, int sr) {
        this.name = n;
        this.hp = hp;
        this.speed = s;
        this.stamina = st;
        this.sightRadius = sr;
        this.progress = 0; // Initialize progress at 0
        this.inventory = new ArrayList<>();
    }
    
    public void walk() {
        if (stamina > 0) {
            stamina -= 2;
            System.out.println(name + " is walking");
        } else {
            System.out.println(name + " is too tired to walk.");
        }
    }
    public void sprint() {
        if (stamina >= 4) {
            stamina -= 4;
            System.out.println(name + " is sprinting");
        } else {
            System.out.println(name + " is too tired to sprint.");
         }
    }
    public void pickUpItem(Item item){
        if (item != null) {
            inventory.add(item);
            System.out.println(name + " picked up " + item.getName());
        } else {
            System.out.println("There's nothing to pick up.");
        }
    }
    public void attackKiller(Killer killer){ 
        if (!inventory.isEmpty()) {
            Item weapon = inventory.get(0);
            if (weapon.getDurability() > 0) {
                killer.takeDamage(weapon.getDamage());
                weapon.decreaseDurability();
                System.out.println(name + " attacked " + killer.getName() + " with " + weapon.getName());
            } else {
                System.out.println(weapon.getName() + " is broken and cannot be used.");
            }
        } else {
            System.out.println("No items to attack with.");
        }
    } 
    public void interactWithFixture(Fixture fixture) {
        if (fixture != null) {
            fixture.performFunction();
        } else {
            System.out.println("There's nothing to interact with.");
        }
    }
    public void enterRoom(Room room) {
        if (room != null && room.isAvailable()) {
            progress++;
            System.out.println(name + " entered " + room.getName());
        } else {
            System.out.println(room != null ? "The room is locked." : "No room to enter.");
        }
    }
    public boolean isAlive() { 
        return hp > 0; 
    }
    public void takeDamage(int damage) {
        hp -= damage;
        if (hp <= 0) {
            System.out.println(name + " has been killed.");
        } else {
            System.out.println(name + " took " + damage + " damage. HP: " + hp);
        }
    }
}

